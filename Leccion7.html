<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leccion 7</title>
    <style>
        div {
            background:black;
            border: 1px solid dimgray;
            margin: 20px auto;
            padding: 10px;
            width: 270px;
            text-align: center;

        }
    </style>
</head>
<body>
    <h1>Leccion 7. . SVG con JS</h1>
    <p>Crear un contador del 1 al 10, pero usando un display de 7 segmentos.</p>

    <div class="counter">
        <svg width="120" height="200" viewBox="0,0 12,20">
            <polygon id="a" fill="#F00" points="1, 1  2, 0  8, 0  9, 1  8, 2  2, 2"/>
            <polygon id="b" fill="#F00" points="9, 1 10, 2 10, 8  9, 9  8, 8  8, 2"/>
            <polygon id="c" fill="#F00" points="9, 9 10,10 10,16  9,17  8,16  8,10"/>
            <polygon id="d" fill="#F00" points="9,17  8,18  2,18  1,17  2,16  8,16"/>
            <polygon id="e" fill="#F00" points="1,17  0,16  0,10  1, 9  2,10  2,16"/>
            <polygon id="f" fill="#F00" points="1, 9  0, 8  0, 2  1, 1  2, 2  2, 8"/>
            <polygon id="g" fill="#F00" points="1, 9  2, 8  8, 8  9, 9  8,10  2,10"/>
        </svg>
    
        <svg width="120" height="200" viewBox="0,0 12,20">
            <polygon id="a" fill="#F00" points="1, 1  2, 0  8, 0  9, 1  8, 2  2, 2"/>
            <polygon id="b" fill="#F00" points="9, 1 10, 2 10, 8  9, 9  8, 8  8, 2"/>
            <polygon id="c" fill="#F00" points="9, 9 10,10 10,16  9,17  8,16  8,10"/>
            <polygon id="d" fill="#F00" points="9,17  8,18  2,18  1,17  2,16  8,16"/>
            <polygon id="e" fill="#F00" points="1,17  0,16  0,10  1, 9  2,10  2,16"/>
            <polygon id="f" fill="#F00" points="1, 9  0, 8  0, 2  1, 1  2, 2  2, 8"/>
            <polygon id="g" fill="#F00" points="1, 9  2, 8  8, 8  9, 9  8,10  2,10"/>
        </svg>
        <input type="button" value="+"/>
        <input type="button" value="-"/>
    </div>
    <script>
        const displays = document.getElementsByTagName("svg")

        function mostrarNumero(display, num){
            const valores=["1111110","0110000","1101101","1111001","0110011","1011011","1011111","1110000","1111111","1111011"]
            let poly= display.querySelectorAll("polygon");
            let cadena = valores[num];

            for(let i = 0; i<7; i++){
                poly[i].style.display = cadena.charAt(i) == "1"?"block":"none";
            };
        };

        var contador = 0;
        document.querySelector(".counter").addEventListener("click", function (e){
            if(e.target.value && e.target.value =="+"){
                if (contador <= 9){
                    contador++;
                }
            }
            else if(e.target.tagName =="INPUT" && e.target.value=="-"){
                if (contador > 0){
                    contador--;
                }
            }


            mostrar();

        });
        function mostrar(){
            mostrarNumero(displays[0], parseInt(contador/ 10));
            mostrarNumero(displays[1], contador % 10);
        }
        mostrar();
    </script>
</body>
</html>