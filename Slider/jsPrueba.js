let instrumentos= [
    {
      "id": 1,
      "nombre": "Guitarra",
      "tipo": "Cuerda",
      "material": "Madera",
      "tono": "Agudo",
      "img": "https://guitarraviva.com/wp-content/uploads/elementor/thumbs/stock-nylon-bossa_67587098-qd9emowetj380odhfnekky9tkddb0k1k8f7z2l2dlw"
    },
    {
      "id": 2,
      "nombre": "Piano",
      "tipo": "Teclado",
      "material": "Madera y Metal",
      "tono": "Varía según la tecla",
      "img": "https://sinfoniaonline.es/blog/wp-content/uploads/2021/06/comprar-piano-digital-en-sinfonia-instrumentos"
    },
    {
      "id": 3,
      "nombre": "Trompeta",
      "tipo": "Viento-metal",
      "material": "Latón",
      "tono": "Brillante",
      "img": "https://www.eldigitaldealbacete.com/wp-content/uploads/2022/12/trompeta"
    },
    {
      "id": 4,
      "nombre": "Batería",
      "tipo": "Percusión",
      "material": "Acero y Piel",
      "tono": "Varios tambores con diferentes tonos",
      "img": "https://www.malaga8.com/modules/dbblog/views/img/post/165"
    },
    {
      "id": 5,
      "nombre": "Violín",
      "tipo": "Cuerda",
      "material": "Madera",
      "tono": "Sutil y melódico",
      "img" : "https://www.superprof.mx/blog/wp-content/uploads/2022/02/precio-violin-para-ninos-"
    },
    {
      "id": 6,
      "nombre": "Flauta",
      "tipo": "Viento-madera",
      "material": "Metal y Madera",
      "tono": "Suave",
      "img":"https://www.musicnexo.com/blog/wp-content/uploads/2017/04/bigstock-Professional-Flute-Player-Perf-138587060-1200x801"
    },
    {
      "id": 7,
      "nombre": "Saxofón",
      "tipo": "Viento-metal",
      "material": "Latón",
      "tono": "Melódico",
      "img" : "https://www.disruptiva.media/wp-content/uploads/2021/11/sax"
    },
    {
      "id": 8,
      "nombre": "Bajo eléctrico",
      "tipo": "Cuerda",
      "material": "Madera y Metal",
      "tono": "Grave",
      "img":"https://img.freepik.com/fotos-premium/hombre-tocando-solo-instrumento-electrico-cuatro-cuerdas_167021-59"
    },
    {
      "id": 9,
      "nombre": "Acordeón",
      "tipo": "Viento-metal",
      "material": "Metal y Acrílico",
      "tono": "Versátil",
      "img":"https://img-c.udemycdn.com/course/750x422/1677850_111f"
    },
    {
      "id": 10,
      "nombre": "Harmónica",
      "tipo": "Viento-metal",
      "material": "Metal y Plástico",
      "tono": "Bluesy",
      "img":"https://promocionmusical.es/wp-content/uploads/2019/02/xarmonica-1-810x608.jpg.pagespeed.ic.W9ecGnN9-K"
    },
    {
      "id": 11,
      "nombre": "Tambor",
      "tipo": "Percusión",
      "material": "Piel y Madera",
      "tono": "Rítmico",
      "img":"https://musiclave.com/wp-content/uploads/2019/02/El-tambor-de-caja"
    },
    {
      "id": 12,
      "nombre": "Violonchelo",
      "tipo": "Cuerda",
      "material": "Madera",
      "tono": "Profundo",
      "img":"https://www.suzukitalenteducation.com.mx/admin/images/eventos/curiosidades-de-cello-violonchelo"
    },
    {
      "id": 13,
      "nombre": "Oboe",
      "tipo": "Viento-madera",
      "material": "Madera",
      "tono": "Nasal",
      "img":"https://www.moz.ac.at/cache-buster-3/Studien/Blas-%20%26%20Schlaginstrumente/819/image-thumb__819__detailHeaderImage/csp_24.10.19_10192"
    },
    {
      "id": 14,
      "nombre": "Clarinete",
      "tipo": "Viento-madera",
      "material": "Madera",
      "tono": "Mellizo",
      "img":"https://www.compartitura.org/medias/images/fotolia-16645580-subscription-l"
    },
    {
      "id": 15,
      "nombre": "Trombón",
      "tipo": "Viento-metal",
      "material": "Latón",
      "tono": "Potente",
      "img":"https://musicalsanfrancisco.es/wp-content/uploads/2022/06/Trombones-simples"
    },
    {
      "id": 16,
      "nombre": "Ukelele",
      "tipo": "Cuerda",
      "material": "Madera",
      "tono": "Alegre",
      "img":"https://akamai.sscdn.co/gcs/cifra-blog/pt/wp-content/uploads/2022/01/a46e43f-homem-tocando-ukulele"
    },
    {
      "id": 17,
      "nombre": "Contrabajo",
      "tipo": "Cuerda",
      "material": "Madera",
      "tono": "Profundo y resonante",
      "img":"https://filarmed.org/wp-content/uploads/2021/02/el-contrabajo"
    },
    {
      "id": 18,
      "nombre": "Gaita",
      "tipo": "Viento",
      "material": "Madera y Cuero",
      "tono": "Folklórico",
      "img":"https://musiclave.com/wp-content/uploads/2019/02/Consejos-para-tocar-la-gaita"
    },
    {
      "id": 19,
      "nombre": "Xilófono",
      "tipo": "Percusión",
      "material": "Madera y Metal",
      "tono": "Cristalino",
      "img":"https://curiosfera-historia.com/wp-content/uploads/historia-del-xil%C3%B3fono-1"
    },
    {
      "id": 20,
      "nombre": "Sitar",
      "tipo": "Cuerda",
      "material": "Madera y Metal",
      "tono": "Exótico",
      "img":"https://m.media-amazon.com/images/I/71iPYkTreeL._AC_UF1000,1000_QL80_"
    }
  ]

let datosCuriosos=[
    {
      "id": 1,
      "dato_curioso": "El Didgeridoo es un instrumento de viento originario de Australia, creado por los aborígenes. Se toca emitiendo un zumbido continuo y es conocido por su sonido distintivo."
    },
    {
      "id": 2,
      "dato_curioso": "Se encontró en Eslovenia una flauta hecha de hueso de oso que data de aproximadamente 35,000 años. Se considera la flauta más antigua conocida."
    },
    {
      "id": 3,
      "dato_curioso": "Los violines fabricados por Antonio Stradivari en el siglo XVII son legendarios por su calidad de sonido. Aunque se desconoce el secreto exacto de su fabricación, algunos especulan que la madera utilizada fue clave."
    },
    {
      "id": 4,
      "dato_curioso": "Inventado en 1919 por el ruso Lev Termen, el theremín es un instrumento musical único que se toca sin contacto físico. El intérprete controla el tono y el volumen mediante gestos en el aire."
    },
    {
      "id": 5,
      "dato_curioso": "El piano de cola más grande jamás construido tiene aproximadamente 3 metros de altura y pesa alrededor de 1.5 toneladas. Fue creado por Adrian Mann en Nueva Zelanda."
    },
    {
      "id": 6,
      "dato_curioso": "El Hang Drum es un instrumento de percusión desarrollado en Suiza en el año 2000. Tiene forma de disco y produce sonidos etéreos y relajantes al golpear sus distintivos puntos resonantes."
    },
    {
      "id": 7,
      "dato_curioso": "Aunque el saxofón se asocia comúnmente con el jazz, fue inventado por Adolphe Sax, un belga, en la década de 1840 con la intención de crear un instrumento que combinara las cualidades de la cuerda y el viento."
    },
    {
      "id": 8,
      "dato_curioso": "El órgano de la Basílica de San Pedro en el Vaticano es uno de los órganos más grandes del mundo, con alrededor de 7,000 tubos. Fue construido por el fabricante de órganos italiano Bartolomeo Formentelli."
    },
    {
      "id": 9,
      "dato_curioso": "La 'Reach Out to Asia' es una guitarra Fender Stratocaster autografiada por varios artistas, incluidos Eric Clapton y Jimmy Page. Se subastó para recaudar fondos para las víctimas del tsunami del Océano Índico en 2004 y se vendió por más de 2 millones de dólares."
    },
    {
      "id": 10,
      "dato_curioso": "El músico Rick Nielsen, de la banda Cheap Trick, es conocido por tocar un bajo eléctrico de 18 cuerdas. Este instrumento único le permite explorar una amplia gama de notas y tonos."
    }
  ]

const divContainer = document.querySelector(".carrusel div");


if(divContainer){
  cargarDatos();
  cargarDatoCurioso()
} else {
  cargarInstrumento();
  
}

function cargarDatos() {
  
  for(let i of instrumentos){
    let  imagenInstrumento= document.createElement("img");
    let a = document.createElement("a");
    a.href = "javascript:";
    a.onclick = function () {
      verDetalles(i.id);
    };
    a.className ="imagenInstrumento";
    imagenInstrumento.src = i.img + ".jpg";
    a.append(imagenInstrumento);
    divContainer.append(a);
  }
}

function cargarDatoCurioso(){
    const datoAleatorio = Math.floor(Math.random() * datosCuriosos.length);
    let p = document.querySelector(".sabiasQue");
    p.textContent = datosCuriosos[datoAleatorio].dato_curioso;
}

function verDetalles(instrumento){
    sessionStorage.id = instrumento;
    location.href = "prueba1.html"
}



function buscarInstrumento(instrumento){
  let i = instrumentos.find(x=>x.id == instrumento);
        if(i){
            return i;
        } else {
            console.log("no se encontro ninguno");
        }
    } 

function cargarInstrumento(){
  if(sessionStorage.id){
    let instrumento = buscarInstrumento(sessionStorage.id);
    for(let prop in instrumento){
        let obj = document.querySelector("."+prop);
        if(obj){
            if(obj.className == "img"){
                obj.src = instrumento[prop] + ".jpg";
            } else {
                obj.textContent =obj.textContent + instrumento[prop];
            }
            
        }
    }
  } else {
    location.hfre = "prueba.html"
  }
}



let imgs = document.querySelector(".carrusel div");
        
let clon1 = imgs.firstElementChild.cloneNode(true);
let clon2 = imgs.lastElementChild.cloneNode(true);
imgs.append(clon1);
imgs.insertBefore(clon2, imgs.firstElementChild);

let totalImg = imgs.children.length;
let actual = 2;
imgs.style.transform=`translateX(${(actual-1)*-800}px)`;

let timer = setInterval(function(){
    document.getElementById("siguiente").click();
}, 2000)

imgs.addEventListener("transitionend", function(e){
    if(actual == imgs.children.length){
        actual =2 ;
        imgs.style.transition = "none";
        imgs.style.transform=`translateX(${(actual-1)*-800}px)`;
    }

    if(actual == 1){
        actual =imgs.children.length-1 ;
        imgs.style.transition = "none";
        imgs.style.transform=`translateX(${(actual-1)*-800}px)`;
    }

    timer = setInterval(function(){
    document.getElementById("siguiente").click();
}, 2000)
});

if(divContainer){
    document.getElementById("siguiente").addEventListener("click", function(){
        clearInterval(timer);
        imgs.style.transition = "all 3s"
        if (actual < totalImg){
            actual ++;
            imgs.style.transform=`translateX(${(actual-1)*-800}px)`;
        }
    });
    document.getElementById("anterior").addEventListener("click", function(){
        clearInterval(timer);
        imgs.style.transition = "all 3s"
        if (actual > 1){
            actual --;
            imgs.style.transform=`translateX(${(actual-1)*-800}px)`;
        }
    });
}


