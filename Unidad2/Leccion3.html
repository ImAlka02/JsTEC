<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leccion 3</title>
</head>
<body>
    <h1>Leccion 3. Enlace de datos</h1>
    <table id="tablaDatos">
    </table>
    
    <script>
        var datos = 
        [
            {"NumControl": "201G0235", "Nombre": "BAUTISTA MUÑOZ BRYAN ALEXIS"},
            {"NumControl": "201G0239", "Nombre": "CONTRERAS DOMINGUEZ JUAN HECTOR"},
            {"NumControl": "201G0240", "Nombre": "CONTRERAS WONG JUAN ALEXANDER"},
            {"NumControl": "201G0246", "Nombre": "ELIAS CASTILLO RODRIGO"},
            {"NumControl": "201G0247", "Nombre": "ESPINOZA REYES MARIO ELIAS"},
            {"NumControl": "201G0253", "Nombre": "GARCIA ESPINOZA BRISEIDA"},
            {"NumControl": "201G0257", "Nombre": "GONZALEZ ORTIZ ANDRES GIL"},
            {"NumControl": "201G0264", "Nombre": "LINAN JORGE FABIAN"},
            {"NumControl": "201G0266", "Nombre": "MALDONADO MUÑOZ CARLOS DANIEL"},
            {"NumControl": "221GC057", "Nombre": "MARTINEZ LUNA JESUS ALBERTO"},
            {"NumControl": "201G0268", "Nombre": "MEDRANO MENDOZA JUAN EDUARDO"},
            {"NumControl": "201G0272", "Nombre": "ORDOÑEZ BARRON DANIELA GUADALUPE"},
            {"NumControl": "201G0276", "Nombre": "PINEDA ESPINOZA JOSE ANGEL"},
            {"NumControl": "191G0283", "Nombre": "RAMOS RODRIGUEZ KARIME"},
            {"NumControl": "201G0282", "Nombre": "RODRIGUEZ GUERRERO DANIEL ANDRES"},
            {"NumControl": "201G0283", "Nombre": "RODRIGUEZ HIDALGO VICTOR OSVALDO"},
            {"NumControl": "201G0614", "Nombre": "SALAS GUERRERO MARLENE ABIGAIL"},
            {"NumControl": "201G0292", "Nombre": "ZAMARRON RODRIGUEZ YADIRA GUADALUPE"},
            {"NumControl": "201G0293", "Nombre": "ZAMORA DE LA CERDA JOCELYN BERENICE"}
        ];

        const tabla = document.querySelector("#tablaDatos");
        tabla.dataBind = function(datos){
            if(datos.length > 0){
                let primero = datos[0];
                //Generar el thead
                let thead = document.createElement("thead");
                let headRow = thead.insertRow();
                for(let i of Object.keys(primero)){
                    let th = document.createElement("th");
                    th.textContent= i;
                    headRow.append(th);
                }
                tabla.append(thead);
                //Generar Tbody
                let tbody = document.createElement("tbody");
                for(let obj of datos){
                    let tr = tbody.insertRow();
                    for(let k of Object.keys(primero)){
                        tr.insertCell().textContent = obj[k];
                    }
                }
                tabla.append(tbody);
            }
        };

        tabla.dataBind(datos2);
    </script>
</body>
</html>